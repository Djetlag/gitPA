<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title> Bootstrap test json search bar</title>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	</head>

	<body>

		<!--<div class="container" style="width:900px;">
			<h2 align="center">json live data search bar</h2>
			<h3 align="center">Student data</h3>
			<br/><br/>
			<div align="center">
				<input type="text" name="search" id="search" placeholder="search Student" class="form-control" />

			</div>
			<ul class "list-group" id="result"></ul>
			</br>
		</div>-->
		<div class="container">
			<h2 align="center">json live data search bar</h2>
			<h3 align="center">Student data</h3>
			<input type="search" class="form-control" id="search" /><br/>
			<table class=" table table-striped table-bordered table-hover" id="result">
				<thead>
					<tr>
						<th>last name</th>
						<th>first name</th>
						<th>mail</th>
						<th>matricule</th>
					</tr>
				</thead>
			</table>
		</div>
	</body>

	<!-- jquery (necessary for bootstrap's javasript plugins) -->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script>
		$(document).ready(function() {
			$('#search').keydown(function() {
				$('#result').html('');
				var searchfield = $('#search').val();
				var expression = new RegExp(searchfield, 'i');
				$.getJSON('data.json', function(data) {
					$.each(data, function(key, value) {
						if (value.LASTNAME.search(expression) != -1 || value.FIRSTNAME.search(expression) != -1) {
							$('#result').append('<tr><td>' + value.LASTNAME + '</td><td>' + value.FIRSTNAME + '</td><td>' + value.MAIL + '</td><td>' + value.MAT + '</td></tr>');
						}
					});

				});
			});
		});
	</script>

	<!--<script>
	$('#result').append('<li class="list-group-item">' + value.LASTNAME + '| <span class="text-muted">' + value.FIRSTNAME + '</span></li>');
      $('#search').keydown(function(){
        $.getJSON('data.json',function(data){
          var search = $('#search').val();
          var regex = new RegExp(search,'i');
          var output;
          $.each(data,function(key,val){
            if ((val.LASTNAME.search(regex)!= -1)||(val.FIRSTNAME.search(regex)!= -1)) {
            output += "<tr>";
            output += "<td id='"+key+"'>"+val.LASTNAME+"</td>";
            output += "<tr id='"+key+"'>"+val.FIRSTNAME+"</td>";
            output += "<tr id='"+key+"'>"+val.MAIL+"</td>";
            output += "<tr id='"+key+"'>"+val.MAT+"</td>";
            output += "</tr>";
            }
          });
          $('tbody').html(output);
        });
      });
  </script>-->

</html>